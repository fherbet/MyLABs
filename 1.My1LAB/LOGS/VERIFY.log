ansible-playbook VERIFY.yml -l CUST1

PLAY [IPVPN_FABRIC VERIFY PLAYBOOK] ********************************************

TASK [REFRESH BGP sessions] ****************************************************
ok: [CPE1]
ok: [CUST_DC1]
ok: [CPE2]

TASK [CHECK / Napalm Get Facts from Device] ************************************
ok: [CUST_DC1]
ok: [CPE1]
ok: [CPE2]

TASK [CHECK / Print BGP details] ***********************************************
ok: [CPE1] => {
    "msg": {
        "10.253.1.1": {
            "address_family": {
                "ipv4": {
                    "accepted_prefixes": 20,
                    "received_prefixes": 20,
                    "sent_prefixes": 5
                }
            },
            "description": "PE1",
            "is_enabled": true,
            "is_up": true,
            "local_as": 65505,
            "remote_as": 65500,
            "remote_id": "10.255.1.1",
            "uptime": 46491
        },
        "10.255.1.12": {
            "address_family": {
                "ipv4": {
                    "accepted_prefixes": 6,
                    "received_prefixes": 6,
                    "sent_prefixes": 18
                }
            },
            "description": "CPE2",
            "is_enabled": true,
            "is_up": true,
            "local_as": 65505,
            "remote_as": 65505,
            "remote_id": "10.255.1.12",
            "uptime": 45912
        }
    }
}
ok: [CPE2] => {
    "msg": {
        "10.253.2.1": {
            "address_family": {
                "ipv4": {
                    "accepted_prefixes": 18,
                    "received_prefixes": 18,
                    "sent_prefixes": 6
                }
            },
            "description": "PE2",
            "is_enabled": true,
            "is_up": true,
            "local_as": 65505,
            "remote_as": 65500,
            "remote_id": "10.255.1.2",
            "uptime": 40841
        },
        "10.255.1.11": {
            "address_family": {
                "ipv4": {
                    "accepted_prefixes": 18,
                    "received_prefixes": 18,
                    "sent_prefixes": 6
                }
            },
            "description": "CPE1",
            "is_enabled": true,
            "is_up": true,
            "local_as": 65505,
            "remote_as": 65505,
            "remote_id": "10.255.1.11",
            "uptime": 40956
        }
    }
}
ok: [CUST_DC1] => {
    "msg": {
        "10.253.3.1": {
            "address_family": {
                "ipv4": {
                    "accepted_prefixes": 18,
                    "received_prefixes": 18,
                    "sent_prefixes": 4
                }
            },
            "description": "MGMT",
            "is_enabled": true,
            "is_up": true,
            "local_as": 65505,
            "remote_as": 65500,
            "remote_id": "10.255.1.3",
            "uptime": 51227
        }
    }
}

TASK [CHECK / Ping Remote Test IP(s) from source 10.223.1.252 / 255.255.255.0 > 10.223.1.252/255.255.255.0] ***
ok: [CUST_DC1] => (item=10.223.0.254)
ok: [CPE2] => (item=10.223.0.254)
ok: [CUST_DC1] => (item=8.8.8.8)
ok: [CPE2] => (item=8.8.8.8)
ok: [CPE1] => (item=10.223.0.254)
ok: [CPE1] => (item=8.8.8.8)

TASK [CHECK / print PINGTEST from source 10.223.1.252 / 255.255.255.0] *********
ok: [CPE2] => {
    "msg": [
        {
            "success": {
                "packet_loss": 0,
                "probes_sent": 5,
                "results": [
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    }
                ],
                "rtt_avg": 34.0,
                "rtt_max": 113.0,
                "rtt_min": 11.0,
                "rtt_stddev": 0.0
            }
        },
        {
            "success": {
                "packet_loss": 0,
                "probes_sent": 5,
                "results": [
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    }
                ],
                "rtt_avg": 12.0,
                "rtt_max": 15.0,
                "rtt_min": 10.0,
                "rtt_stddev": 0.0
            }
        }
    ]
}
ok: [CPE1] => {
    "msg": [
        {
            "success": {
                "packet_loss": -5,
                "probes_sent": 0,
                "results": [],
                "rtt_avg": 0.0,
                "rtt_max": 0.0,
                "rtt_min": 0.0,
                "rtt_stddev": 0.0
            }
        },
        {
            "success": {
                "packet_loss": -5,
                "probes_sent": 0,
                "results": [],
                "rtt_avg": 0.0,
                "rtt_max": 0.0,
                "rtt_min": 0.0,
                "rtt_stddev": 0.0
            }
        }
    ]
}
ok: [CUST_DC1] => {
    "msg": [
        {
            "success": {
                "packet_loss": 0,
                "probes_sent": 5,
                "results": [
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "10.223.0.254",
                        "rtt": 0.0
                    }
                ],
                "rtt_avg": 3.0,
                "rtt_max": 4.0,
                "rtt_min": 3.0,
                "rtt_stddev": 0.0
            }
        },
        {
            "success": {
                "packet_loss": 0,
                "probes_sent": 5,
                "results": [
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    },
                    {
                        "ip_address": "8.8.8.8",
                        "rtt": 0.0
                    }
                ],
                "rtt_avg": 2.0,
                "rtt_max": 4.0,
                "rtt_min": 1.0,
                "rtt_stddev": 0.0
            }
        }
    ]
}

TASK [CHECK NAT / WITH SH IP NA TR] ********************************************
ok: [CPE1]
ok: [CPE2]
ok: [CUST_DC1]

TASK [CHECK NAT / Print SH IP NA TR] *******************************************
ok: [CPE2] => {
    "msg": [
        [
            "Pro Inside global      Inside local       Outside local      Outside global",
            "icmp 10.123.1.252:5    10.223.1.252:5     8.8.8.8:5          8.8.8.8:5",
            "icmp 10.123.1.253:3    10.223.1.253:3     8.8.8.8:3          8.8.8.8:3",
            "--- 10.123.1.252       10.223.1.252       ---                ---",
            "--- 10.123.1.253       10.223.1.253       ---                ---"
        ]
    ]
}
ok: [CPE1] => {
    "msg": [
        [
            ""
        ]
    ]
}
ok: [CUST_DC1] => {
    "msg": [
        [
            ""
        ]
    ]
}

PLAY RECAP *********************************************************************
CPE1                       : ok=7    changed=0    unreachable=0    failed=0
CPE2                       : ok=7    changed=0    unreachable=0    failed=0
CUST_DC1                   : ok=7    changed=0    unreachable=0    failed=0
